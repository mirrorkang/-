<!DOCTYPE html>
<html>

	<head>
		<meta charset="UTF-8">
		<title>判断鼠标进入方向</title>
	</head>
	<script type="text/javascript">
		//window.onload = function() {
			
			function fun1(event) {
				var box=document.getElementById("box");
					var x = event.pageX - box.offsetLeft; //(得到鼠标在框中的坐标) 
					var y = event.pageY - box.offsetTop;//(得到鼠标在框中的坐标) 
					var H=box.clientHeight; 
					var W=box.clientWidth; 
					var k=Math.floor(H/W);//为了防止不能整除 
					//得到2个斜边函数 
					//设y=ax+c 
					//(0,0) (width,height)其中一个斜边过这两点
					//a=height/width,c=0 
					//y=(height/width)*x; 
					//(0,height) (width,0)另外一个斜边过这两点 
					//a=-height/width,c=height 
					//y=-(height/width)*x+height 
					if((k*x)>=y && (H-k*x)>=y){//这是判断从上方进入,这边简化处理不对等于情况做特别处理 
						console.log("从上方进入"); 
						//todo 
					}
					if((k*x)<y && (H-k*x)<y){ 
						console.log("从下方进入"); 
						//todo 
					} 
						if((k*x)<y && (H-k*x)>y){
							onsole.log("从左边进入"); 
							//todo 
						} 
						if((k*x)>y && (H-k*x)<y){ 
							console.log("从右边进入"); 
							//todo 
							} 
				} 
				function fun2(event){ 
					var box=document.getElementById("box");
					var x=event.pageX-box.offsetLeft;//(得到鼠标在框中的坐标) 
					var y=event.pageY-box.offsetTop;//(得到鼠标在框中的坐标) 
					var H=box.clientHeight; 
					var W=box.clientWidth; 
					var k=Math.floor(H/W);//为了防止不能整除 
					//得到2个斜边函数 
					//设y=ax+c 
					//(0,0) (width,height)其中一个斜边过这两点 
					//a=height/width,c=0 
					//y=(height/width)*x; 
					//(0,height) (width,0)另外一个斜边过这两点 
					//a=-height/width,c=height 
					//y=-(height/width)*x+height 
					if((k*x)>=y && (H-k*x)>=y){//这是判断从上方进入,这边简化处理不对等于情况做特别处理 
						console.log("从上方离开"); 
						//todo 
						} 
						if((k*x)<y && (H-k*x)<y){ 
							console.log("从下方离开");
						//todo 
						} 
						if((k*x)<y && (H-k*x)>y){ 
							console.log("从左边离开"); 
							//todo
							} 
							if((k*x)>y && (H-k*x)<y){ 
								console.log("从右边离开");
								//todo 
								}
								}
								

			//	}
	</script>

	<body>
		<style>
			
			body {
				margin: 0;
				padding: 0;
			}
			
			#box {
				width: 300px;
				height: 300px;
				background: #90EE90;
				margin: 50px;
				display: inline-block;
				font-size: 50px;
				text-align: center;
				line-height: 300px;
			}
		</style>
		<div id='box' onmouseover="fun1(event)" onmouseout="fun2(event)">鼠标方向</div>
<!--
		<script type="text/javascript">
			var box = document.getElementById("box");
			var hoverDir = function(e) {
				var w = box.offsetWidth;
				var h = box.offsetHeight;
				//x 
				var x = (e.clientX - box.offsetLeft - (w / 2))
			}
		</script>-->
	</body>

</html>